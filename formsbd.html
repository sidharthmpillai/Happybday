<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Happy Birthday!</title>
    <link rel="stylesheet" href="bdaystyles.css"> <!-- Ensure path to your CSS is correct -->
</head>
<body>

    <!-- Loading Screen -->
    <div id="loading">
        <div class="loader"></div>
    </div>

    <!-- Hidden Form Section -->
    <div class="form-section hidden" id="form-section">
        <h2>Fill the Form</h2>
        <form>
            <input type="hidden" name="captcha" value="false">
            <label for="wish">What do you wish to have on this Birthday?</label>
            <input type="text" name="wish" id="wish" placeholder="Your wish" required>
            <button type="submit">Start</button>
        </form>
    </div>

    <!-- Hidden Content Section -->
    <div id="content" class="container hidden">
        <header>
            <h1 id="greeting">Happy Birthday!</h1>
            <p id="foryou">This page is just for you.</p>
        </header>

        <section>
            <h2>Happiee 17...&#10084;</h2>
            <p>This is probably the first time I'm wishing you on your exact birthday.</p>
        </section>

        <section class="gallery">
            <h2>Some Special Moments</h2>
            <img src="https://raw.githubusercontent.com/sidharthmpillai/Happybday/refs/heads/main/me.jpg.jpeg" alt="Special moment 1">
            <img src="https://raw.githubusercontent.com/sidharthmpillai/Happybday/refs/heads/main/Her.jpg" alt="Special moment 2">
            <img src="photo3.jpg" alt="Special moment 3">
            <img src="photo4.jpg" alt="Special moment 4">
        </section>

        <section class="messages">
            <h2>Your loved ones</h2>
            <div class="message-box">
                <p><a href="famgift.html"><strong>Most Important</strong></a></p>
            </div>
            <div class="message-box">
                <p><a href="friendgift.html"><strong>Your Preference</strong></a></p>
            </div>
        </section>

        <section class="music-control">
            <h2>Birthday Song</h2>
            <audio id="birthday-song" controls>
                <source src="sirivennelaedit.mp3.mp3" type="audio/mpeg">
            </audio>
        </section>
    </div>

    <footer>
        <p id="bottom">Created with ❤️ by Sidharth</p>
    </footer>

    <script>
        // Display loading screen, hide content initially
        window.onload = function() {
            const loadingElement = document.getElementById("loading");
            const contentElement = document.getElementById("content");

            loadingElement.style.display = "block"; // Show loading screen
            contentElement.style.display = "none";  // Hide content initially

            setTimeout(function() {
                loadingElement.style.display = "none"; // Hide loading screen
                contentElement.style.display = "block"; // Show content after loading
            }, 1500); // Simulate 1.5 seconds loading time
        };

        // Handle form submission and showing birthday content
        document.addEventListener('DOMContentLoaded', function() {
            if (sessionStorage.getItem('formSubmitted') === 'true') {
                const wish = sessionStorage.getItem('userWish');
                document.getElementById('form-section').classList.add('hidden');
                document.getElementById('content').classList.remove('hidden');
                document.getElementById('famwish').innerText = wish;

                playBirthdaySong();
            }

            document.querySelector('form').addEventListener('submit', function(event) {
                event.preventDefault(); // Prevent form from reloading the page

                const wish = document.getElementById('wish').value;
                sessionStorage.setItem('formSubmitted', 'true');
                sessionStorage.setItem('userWish', wish);

                document.getElementById('form-section').classList.add('hidden');
                document.getElementById('content').classList.remove('hidden');
                document.getElementById('famwish').innerText = wish;

                playBirthdaySong(); // Play song after form submission
            });
        });

        // Function to play the birthday song
        function playBirthdaySong() {
            const audio = document.getElementById('birthday-song');
            if (audio) {
                audio.play(); // Attempt to autoplay the song
            }
        }
    </script>
</body>
</html>


